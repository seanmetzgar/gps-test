"use strict";Number.prototype.between=function(t,o){var a=!1;return"number"==typeof t&&"number"==typeof o&&(a=this>=t&&this<=o),a},Number.prototype.toRad=function(){return this*Math.PI/180};var views={navigation:null,settings:null,destination:null},$appWrapper=null,$compass=null,$currentPosition=null,$destinationPosition=null,$accuracy=null,$distance=null,currentPosition=!1,destinationPosition=!1,geolocationWatch=!1,defaults={imperial:!0,hemispheres:!0,format:"DMS",destination:!1,zerofill:!1},settings=!1,checkBoolean=function(t){return void 0!==typeof t&&("boolean"==typeof t||"number"==typeof t&&(1===t||0===t))},setCompassRotation=function(t,o){var a=!1,i=null;o="object"==typeof o&&o instanceof jQuery?o:$compass,a=o.data("rotation"),"number"!=typeof a&&o.data("rotation",0),"number"==typeof t&&t.between(0,360)&&(i=a-t,i=a<t?Math.abs(i):i,i>180?"anticlockwise":"clockwise",o.data("rotation",t).css({"-webkit-transform":"rotate("+t+"deg)","-moz-transform":"rotate("+t+"deg)","-ms-transform":"rotate("+t+"deg)","-o-transform":"rotate("+t+"deg)",transform:"rotate("+t+"deg)",zoom:1}))},updatePosition=function(t,o,a){o="object"==typeof o&&o instanceof jQuery?o:$currentPosition,a="object"==typeof a&&a instanceof jQuery?a:$accuracy,currentPosition=t,o.find(".latitude").html(formatDisplayCoordinate(t.coords.latitude,"lat")).next(".longitude").html(formatDisplayCoordinate(t.coords.longitude,"lon")),a.html(t.coords.accuracy+"m")},reduceUnits=function(t,o){var a=!1;return o=checkBoolean(o)?o:settings.imperial,a=o?"mi":"km",o?t<.5&&(t*=1760,a="yd",t<200&&(t*=3,a="ft")):t<.5&&(t*=1e3,a="m"),{distance:t,units:a}},formatDisplayCoordinate=function(t,o,a,i,n){var e=!1,s=!1,r=!1,d=!1,c=!1,p=!1,l=!1;return a=checkBoolean(a)?a:settings.hemispheres,i="string"==typeof i?i:settings.format,n=checkBoolean(n)?n:settings.zerofill,e="latitude"===o||"lat"===o?t>0?"N ":"S ":t>0?"E ":"W ",l=Math.abs(t),"D"===i||"DD"===i?(l=l>=100?l.toPrecision(8).toString():t>=10||t<=-10?n?"0"+l.toPrecision(7):l.toPrecision(7).toString():n?"00"+l.toPrecision(6):l.toPrecision(6).toString(),t=a?e+l+"&deg;":(t<0?"-":"")+l+"&deg;"):(c=[t>0?Math.floor(t):Math.ceil(t),Math.abs(t%1)],s=c[0],l=Math.abs(s),l=l>=10&&l<100?n?"0"+l:l.toString():l<10&&n?"00"+l:l.toString(),r=60*c[1],"DMS"===i?(p=[Math.floor(r),Math.abs(r%1)],r=p[0],d=60*p[1],r<10&&(r=n?"0"+r:r.toString()),d=d>=10?d.toPrecision(4).toString():n?"0"+d.toPrecision(3).toString():d.toPrecision(3).toString(),t=a?e+l+"&deg; "+r+"' "+d+'"':(t<0?"-":"")+l+"&deg; "+r+"' "+d+'"'):(r=r>=10?r.toPrecision(5).toString():n?"0"+r.toPrecision(4):r.toPrecision(4).toString(),t=a?e+l+"&deg; "+r+"'":(s<0?"-":"")+l+"&deg; "+r+"'")),t},haversine=function(t,o,a){var i=t.coords.latitude,n=t.coords.longitude,e=o.coords.latitude,s=o.coords.longitude,r=(e-i).toRad(),d=(s-n).toRad(),c=!1,p=!1;return i=i.toRad(),e=e.toRad(),n=n.toRad(),s=s.toRad(),a=checkBoolean(a)?a:settings.imperial,c=a?3959:6371,p=2*c*Math.atan2(Math.sqrt(Math.sin(r/2)*Math.sin(r/2)+Math.cos(i)*Math.cos(e)*Math.sin(d/2)*Math.sin(d/2)),Math.sqrt(1-(Math.sin(r/2)*Math.sin(r/2)+Math.cos(i)*Math.cos(e)*Math.sin(d/2)*Math.sin(d/2)))),reduceUnits(p,a)},loadSettings=function(){var t={};return"undefined"!=typeof localStorage&&(t=localStorage.getItem("cacherSettings"),t="string"==typeof t?JSON.parse(t):{}),t},initializeGeolocationWatch=function(){navigator.geolocation&&(geolocationWatch=navigator.geolocation.watchPosition(updatePosition))},initializeApp=function(){var t=null,o=null,a=null;settings=$.extend(defaults,loadSettings()),views.navigation=$("<div></div>").addClass("view").addClass("navigation").addClass("active").appendTo($appWrapper),views.settings=$("<div></div>").addClass("view").addClass("settings").appendTo($appWrapper),views.destination=$("<div></div>").addClass("view").addClass("destination").appendTo($appWrapper),t=$("<div></div>").addClass("compass-wrapper").appendTo(views.navigation),$compass=$("<div></div>").addClass("compass").prependTo(t).data("rotation",0),a=$("<div></div>").addClass("distance-wrapper").appendTo(t),$accuracy=$("<p></p>").addClass("accuracy").addClass("icon-signal").appendTo(a),$distance=$("<p></p>").addClass("distance").appendTo(a),o=$("<div></div>").addClass("position-wrapper").appendTo(views.navigation),$currentPosition=$("<p></p>").addClass("position").addClass("current").appendTo(o),$destinationPosition=$("<p></p>").addClass("position").addClass("destination").appendTo(o),o.find(".position").html('<span class="latitude"></span>\n<span class="longitude"></span>'),setCompassRotation(0),initializeGeolocationWatch()};$(document).ready(function(){$appWrapper=$(".app-wrapper"),initializeApp()});
//# sourceMappingURL=scripts.min.js.map
