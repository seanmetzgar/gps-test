"use strict";Number.prototype.between=function(t,o){var a=!1;return"number"==typeof t&&"number"==typeof o&&(a=this>=t&&this<=o),a},Number.prototype.toRad=function(){return this*Math.PI/180};var $compass=null,$currentPosition=null,$destinationPosition=null,$accuracy=null,$distance=null,currentPosition=!1,destinationPosition=!1,geolocationWatch=!1,defaults={imperial:!0,hemispheres:!0,format:"DMS",destination:!1,zerofill:!1},settings=!1,checkBoolean=function(t){return void 0!==typeof t&&("boolean"==typeof t||"number"==typeof t&&(1===t||0===t))},setCompassRotation=function(t,o){var a=!1,i=null;o="object"==typeof o&&o instanceof jQuery?o:$compass,a=o.data("rotation"),"number"!=typeof a&&o.data("rotation",0),"number"==typeof t&&t.between(0,360)&&(i=a-t,i=a<t?Math.abs(i):i,i>180?"anticlockwise":"clockwise",o.data("rotation",t).css({"-webkit-transform":"rotate("+t+"deg)","-moz-transform":"rotate("+t+"deg)","-ms-transform":"rotate("+t+"deg)","-o-transform":"rotate("+t+"deg)",transform:"rotate("+t+"deg)",zoom:1}))},updatePosition=function(t,o,a){o="object"==typeof o&&o instanceof jQuery?o:$currentPosition,a="object"==typeof a&&a instanceof jQuery?a:$accuracy,currentPosition=t,o.find(".latitude").html(formatDisplayCoordinate(t.coords.latitude,"lat")).next(".longitude").html(formatDisplayCoordinate(t.coords.longitude,"lon")),a.html(t.coords.accuracy+"m")},reduceUnits=function(t,o){var a=!1;return o=checkBoolean(o)?o:settings.imperial,a=o?"mi":"km",o?t<.5&&(t*=1760,a="yd",t<200&&(t*=3,a="ft")):t<.5&&(t*=1e3,a="m"),{distance:t,units:a}},formatDisplayCoordinate=function(t,o,a,i,n){var e=!1,s=!1,r=!1,c=!1,d=!1,l=!1,p=!1;return a=checkBoolean(a)?a:settings.hemispheres,i="string"==typeof i?i:settings.format,n=checkBoolean(n)?n:settings.zerofill,e="latitude"===o||"lat"===o?t>0?"N ":"S ":t>0?"E ":"W ",p=Math.abs(t),"D"===i||"DD"===i?(p=p>=100?p.toPrecision(8).toString():t>=10||t<=-10?n?"0"+p.toPrecision(7):p.toPrecision(7).toString():n?"00"+p.toPrecision(6):p.toPrecision(6).toString(),t=a?e+p+"&deg;":(t<0?"-":"")+p+"&deg;"):(d=[t>0?Math.floor(t):Math.ceil(t),Math.abs(t%1)],s=d[0],p=Math.abs(s),p=p>=10&&p<100?n?"0"+p:p.toString():p<10&&n?"00"+p:p.toString(),r=60*d[1],"DMS"===i?(l=[Math.floor(r),Math.abs(r%1)],r=l[0],c=60*l[1],r<10&&(r=n?"0"+r:r.toString()),c=c>=10?c.toPrecision(4).toString():n?"0"+c.toPrecision(3).toString():c.toPrecision(3).toString(),t=a?e+p+"&deg; "+r+"' "+c+'"':(t<0?"-":"")+p+"&deg; "+r+"' "+c+'"'):(r=r>=10?r.toPrecision(5).toString():n?"0"+r.toPrecision(4):r.toPrecision(4).toString(),t=a?e+p+"&deg; "+r+"'":(s<0?"-":"")+p+"&deg; "+r+"'")),t},haversine=function(t,o,a){var i=t.coords.latitude,n=t.coords.longitude,e=o.coords.latitude,s=o.coords.longitude,r=(e-i).toRad(),c=(s-n).toRad(),d=!1,l=!1;return i=i.toRad(),e=e.toRad(),n=n.toRad(),s=s.toRad(),a=checkBoolean(a)?a:settings.imperial,d=a?3959:6371,l=2*d*Math.atan2(Math.sqrt(Math.sin(r/2)*Math.sin(r/2)+Math.cos(i)*Math.cos(e)*Math.sin(c/2)*Math.sin(c/2)),Math.sqrt(1-(Math.sin(r/2)*Math.sin(r/2)+Math.cos(i)*Math.cos(e)*Math.sin(c/2)*Math.sin(c/2)))),reduceUnits(l,a)},loadSettings=function(){var t={};return"undefined"!=typeof localStorage&&(t=localStorage.getItem("cacherSettings"),t="string"==typeof t?JSON.parse(t):{}),t},initializeGeolocationWatch=function(){navigator.geolocation&&(geolocationWatch=navigator.geolocation.watchPosition(updatePosition))},initializeApp=function(){var t=$("<div></div>").addClass("compass-wrapper").appendTo(".app-wrapper"),o=$("<div></div>").addClass("position-wrapper").insertAfter(t),a=$("<div></div>").addClass("distance-wrapper").appendTo(t);settings=$.extend(defaults,loadSettings()),$compass=$("<div></div>").addClass("compass").prependTo(t).data("rotation",0),$accuracy=$("<p></p>").addClass("accuracy").addClass("icon-signal").appendTo(a),$distance=$("<p></p>").addClass("distance").appendTo(a),$currentPosition=$("<p></p>").addClass("position").addClass("current").appendTo(o),$destinationPosition=$("<p></p>").addClass("position").addClass("destination").appendTo(o),o.find(".position").html('<span class="latitude"></span>\n<span class="longitude"></span>'),setCompassRotation(0),initializeGeolocationWatch()};$(document).ready(function(){initializeApp()});
//# sourceMappingURL=scripts.min.js.map
